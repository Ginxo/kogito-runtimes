pipeline{
    agent {label 'operator-slave'}
    stages{
        stage('Update version in pom'){
            steps{
                sh 'ls -la'
                updateMavenVersion()
            }
        }
    }
}

def updateMavenVersion(){
    def pomFile = file("$WORKSPACE").listFiles().find { it.name.endsWith 'pom' }
    def pomXml = new XmlSlurper().parse(pomFile.absolutePath)
    def mavenVersion = pom.project.properties.pom.project.properties
    assert authorResult.text() == '3.6.2'
}
