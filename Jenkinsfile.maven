pipeline{
    agent {label 'operator-slave'}
    stages{
        stage('Update version in pom'){
            steps{
               dir ("${WORKSPACE}") {
                   updateMavenVersion("${WORKSPACE}")
              }     
            }
        }
    }
}

def updateMavenVersion(String workspaceValue){
    def myworkspace = workspaceValue
    def doc = new XmlSlurper().parse(new File("${myworkspace}/kogito-runtimes/pom.xml"))
    def version = doc.version.text()
    println(version)   
}
